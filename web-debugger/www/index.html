<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hello wasm-pack!</title>
  </head>
  <body onkeydown="keyDown(event)" onkeyup="keyUp(event);">
    <div id="root" class="container-fluid min-vh-100 p-0">
      <div class="row no-gutters">
        <div class="col border-right min-vh-100" style="max-width: 320px; position: sticky; box-sizing: content-box;">
          <canvas style='background:red' id="lcd" ondrop="dropHandler(event)" ondragover="dragOverHandler(event)" ondragleave="dragLeaveHandler(event)" width=320 height=288></canvas>


          <div class="row registers px-3">
            <div class="col d-flex justify-content-between">
              <table class="text-monospace">
                <tbody>
                  <tr>
                    <td class="label">AF:</td>
                    <td><input type="text" class="cpu-register" size=4 data-register="af"></td>
                  </tr>
                  <tr>
                    <td class="label">BC:</td>
                    <td><input type="text" class="cpu-register" size=4 data-register="bc"></td>
                  </tr>
                  <tr>
                    <td class="label">DE:</td>
                    <td><input type="text" class="cpu-register" size=4 data-register="de"></td>
                  </tr>
                  <tr>
                    <td class="label">HL:</td>
                    <td><input type="text" class="cpu-register" size=4 data-register="hl"></td>
                  </tr>
                  <tr>
                    <td class="label">PC:</td>
                    <td><input type="text" class="cpu-register" size=4 data-register="pc"></td>
                  </tr>
                  <tr>
                    <td class="label">SP:</td>
                    <td><input type="text" class="cpu-register" size=4 data-register="sp"></td>
                  </tr>
                  <tr>
                    <td class="label">IME:</td>
                    <td><input type="checkbox" value="" id="ime"></td>
                  </tr>
                  <tr>
                    <td class="label">IMD:</td>
                    <td><input type="checkbox" value="" id="ime_defer"></td>
                  </tr>
                  </tbody>
              </table>
              <table class="text-monospace">
                <tbody>
                  <tr>
                    <td class="label"><abbr title="0xFF40">LCDC</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF40"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF41">STAT</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF41"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF42">SCY</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF42"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF43">SCX</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF43"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF44">LY</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF44"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF45">LYC</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF45"></td>
                  </tr>
                </tbody>
              </table>
              <table class="text-monospace">
                <tbody>
                  <tr>
                    <td class="label"><abbr title="0xFF46">DMA</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF46"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF47">BGP</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF47"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF48">OBP0</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF48"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF49">OBP1</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF49"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF4A">WY</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF4A"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF4B">WX</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF4B"></td>
                  </tr>
                </tbody>
              </table>
              <table class="text-monospace">
                <tbody>
                  <tr>
                    <td class="label"><abbr title="0xFF04">DIV</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF04"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF05">TIMA</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF05"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF06">TMA</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF06"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF07">TAC</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF07"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF0F">IF</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF0F"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFFFF">IE</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFFFF"></td>
                  </tr>
                </tbody>
              </table>
              <table class="text-monospace">
                <tbody>
                  <tr>
                    <td class="label"><abbr title="0xFF00">P1</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF00"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF01">SB</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF01"></td>
                  </tr>
                  <tr>
                    <td class="label"><abbr title="0xFF02">SC</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF02"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="row registers px-3">
            <div class="col d-flex justify-content-between">
              <table>
                <tbody>
                  <tr>
                    <td><abbr title="0xFF10">NR10</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF10"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF11">NR11</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF11"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF12">NR12</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF12"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF13">NR13</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF13"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF14">NR14</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF14"></td>
                  </tr>
                </tbody>
              </table>
              <table>
                <tbody>
                  <tr>
                    <td><abbr title="0xFF16">NR21</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF16"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF17">NR22</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF17"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF18">NR23</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF18"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF19">NR24</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF19"></td>
                  </tr>
                </tbody>
              </table>
              <table>
                <tbody>
                  <tr>
                    <td><abbr title="0xFF1A">NR30</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF1A"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF1B">NR31</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF1B"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF1C">NR32</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF1C"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF1D">NR33</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF1D"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF1E">NR34</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF1E"></td>
                  </tr>
                </tbody>
              </table>
              <table>
                <tbody>
                  <tr>
                    <td><abbr title="0xFF20">NR41</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF20"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF21">NR42</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF21"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF22">NR43</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF22"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF23">NR44</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF23"></td>
                  </tr>
                </tbody>
              </table>
              <table>
                <tbody>
                  <tr>
                    <td><abbr title="0xFF24">NR50</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF24"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF25">NR51</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF25"></td>
                  </tr>
                  <tr>
                    <td><abbr title="0xFF26">NR52</abbr>:</td>
                    <td><input type="text" class="register" size=2 data-address="0xFF26"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="col" style="height: 100vh;">
          <div id="memory_viewer" class="text-monospace" style='max-height: 70vh; overflow-y: scroll'>
            <table width=100%>
              <thead>
                <tr>
                  <td width="10%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="4%"></td>
                  <td width="32%"></td>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
          <div id="instruction_viewer" class="border-top" style='height: 30vh;'>
            <div class="btn-group" role="group" aria-label="Basic example">
              <button type="button" class="btn btn-outline-secondary" id="start_pause"><i class="fas fa-pause"></i></button>
              <button type="button" class="btn btn-outline-secondary" id="next" disabled><i class="fas fa-forward"></i></button>
            </div>
          </div>
        </div>
        <div class="col-3 min-vh-100 border-left">
          <div class="accordion min-vh-100" id="sidebar">
            <div class="card">
              <div class="card-header" id="breakpointsHeading">
                <h2 class="mb-0">
                  <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#breakpoints" aria-expanded="true" aria-controls="breakpoints">Breakpoints</button>
                </h2>
              </div>

              <div id="breakpoints" class="collapse show" aria-labelledby="breakpointsHeading" >
                <div class="card-body">
                  TODO.
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header" id="watchesHeading">
                <h2 class="mb-0">
                  <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#watches" aria-expanded="true" aria-controls="watches">Watches</button>
                </h2>
              </div>

              <div id="watches" class="collapse show" aria-labelledby="breakpointsHeading" >
                <div class="card-body">
                  TODO.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="fps"></div>

    <script src="./bootstrap.js"></script>
  </body>
</html>
